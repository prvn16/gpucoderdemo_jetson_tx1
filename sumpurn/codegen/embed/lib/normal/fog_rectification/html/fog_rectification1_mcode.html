<!-- saved from url=(0014)about:internet -->
<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1U3">out</span>]=fog_rectification(<span class="var type1" id="S3T1U6">input</span>) <span class="comment">%#codegen</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%   Copyright 2017 The MathWorks, Inc.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4"> 4</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5"> 5</a></span><span class="line">coder.gpu.kernelfun;</span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6"> 6</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">% restoreOut is used to store the output of restoration</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8"> 8</a></span><span class="line"><span class="mxinfo " id="T2:U3"><span class="var type1" id="S5T2U15">restoreOut</span> = <span class="mxinfo " id="T2:U5">zeros(size(<span class="var type1" id="S3T1U20">input</span>),<span class="string">'double'</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9"> 9</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10">10</a></span><span class="line"><span class="comment">% Changing the precision level of input image to double</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11">11</a></span><span class="line"><span class="mxinfo " id="T2:U7"><span class="var type1" id="S3T2U24">input</span> = <span class="mxinfo " id="T2:U9"><span class="mxinfo " id="T2:U10">double(<span class="var type1" id="S3T1U28">input</span>)</span>./255</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12">12</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13">13</a></span><span class="line"><span class="comment">%% Dark channel Estimation from input</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14">14</a></span><span class="line"><span class="mxinfo " id="T3:U12"><span class="var type1" id="S9T3U32">darkChannel</span> = <span class="mxinfo " id="T3:U14">min(<span class="var type1" id="S3T2U35">input</span>,[],3)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15">15</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16">16</a></span><span class="line"><span class="comment">% diff_im is used as input and output variable for anisotropic diffusion</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17">17</a></span><span class="line"><span class="mxinfo " id="T3:U16"><span class="var type1" id="S11T3U41">diff_im</span> = <span class="mxinfo " id="T3:U18"><span class="mxinfo " id="T4:U19">0.9</span>*<span class="var type1" id="S9T3U44">darkChannel</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18">18</a></span><span class="line"><span class="mxinfo " id="T4:U21"><span class="var type1" id="S12T4U47">num_iter</span> = <span class="mxinfo " id="T4:U23">3</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19">19</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20">20</a></span><span class="line"><span class="comment">% 2D convolution mask for Anisotropic diffusion</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21">21</a></span><span class="line"><span class="mxinfo " id="T5:U24"><span class="var type1" id="S13T5U51">hN</span> = <span class="mxinfo " id="T5:U26">[0.0625 0.1250 0.0625; 0.1250 0.2500 0.1250; 0.0625 0.1250 0.0625]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22">22</a></span><span class="line"><span class="mxinfo " id="T5:U27"><span class="var type1" id="S13T5U67">hN</span> = double(<span class="var type1" id="S13T5U70">hN</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23">23</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24">24</a></span><span class="line"><span class="comment">%% Refine dark channel using Anisotropic diffusion.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25">25</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S14T4U73">t</span> = <span class="mxinfo " id="T4:U31">1</span>:<span class="var type1" id="S12T4U76">num_iter</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26">26</a></span><span class="line">      <span class="mxinfo " id="T3:U33"><span class="var type1" id="S11T3U79">diff_im</span> = <span class="mxinfo " id="T3:U35">conv2(<span class="var type1" id="S11T3U82">diff_im</span>,<span class="var type1" id="S13T5U83">hN</span>,<span class="string">'same'</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27">27</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28">28</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29">29</a></span><span class="line"><span class="comment">%% Reduction with min</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30">30</a></span><span class="line"><span class="mxinfo " id="T3:U38"><span class="var type1" id="S11T3U87">diff_im</span> = <span class="mxinfo " id="T3:U40">min(<span class="var type1" id="S9T3U90">darkChannel</span>,<span class="var type1" id="S11T3U91">diff_im</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31">31</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32">32</a></span><span class="line"><span class="mxinfo " id="T3:U43"><span class="var type1" id="S11T3U94">diff_im</span> = <span class="mxinfo " id="T3:U45"><span class="mxinfo " id="T4:U46">0.6</span>*<span class="var type1" id="S11T3U97">diff_im</span></span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33">33</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34">34</a></span><span class="line"><span class="comment">%% Parallel element-wise math to compute</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35">35</a></span><span class="line"><span class="comment">%  Restoration with inverse Koschmieder's law</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36">36</a></span><span class="line"><span class="mxinfo " id="T3:U48"><span class="var type1" id="S16T3U100">factor</span>=<span class="mxinfo " id="T3:U50">1.0./(<span class="mxinfo " id="T3:U51"><span class="mxinfo " id="T4:U52">1.0</span>-(<span class="var type1" id="S11T3U107">diff_im</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37">37</a></span><span class="line"><span class="mxinfo " id="T3:U54"><span class="mxinfo " id="T3:U55"><span class="var type1" id="S5T2U111">restoreOut</span>(<span class="mxinfo " id="T6:U57">:</span>,<span class="mxinfo " id="T7:U58">:</span>,<span class="mxinfo " id="T8:U59">1</span>)</span>= <span class="mxinfo " id="T3:U60">(<span class="mxinfo " id="T3:U61"><span class="mxinfo " id="T3:U62"><span class="var type1" id="S3T2U119">input</span>(<span class="mxinfo " id="T6:U64">:</span>,<span class="mxinfo " id="T7:U65">:</span>,<span class="mxinfo " id="T4:U66">1</span>)</span>-<span class="var type1" id="S11T3U123">diff_im</span></span>).*<span class="var type1" id="S16T3U124">factor</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38">38</a></span><span class="line"><span class="mxinfo " id="T3:U69"><span class="mxinfo " id="T3:U70"><span class="var type1" id="S5T2U128">restoreOut</span>(<span class="mxinfo " id="T6:U72">:</span>,<span class="mxinfo " id="T7:U73">:</span>,<span class="mxinfo " id="T8:U74">2</span>)</span>= <span class="mxinfo " id="T3:U75">(<span class="mxinfo " id="T3:U76"><span class="mxinfo " id="T3:U77"><span class="var type1" id="S3T2U136">input</span>(<span class="mxinfo " id="T6:U79">:</span>,<span class="mxinfo " id="T7:U80">:</span>,<span class="mxinfo " id="T4:U81">2</span>)</span>-<span class="var type1" id="S11T3U140">diff_im</span></span>).*<span class="var type1" id="S16T3U141">factor</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39">39</a></span><span class="line"><span class="mxinfo " id="T3:U84"><span class="mxinfo " id="T3:U85"><span class="var type1" id="S5T2U145">restoreOut</span>(<span class="mxinfo " id="T6:U87">:</span>,<span class="mxinfo " id="T7:U88">:</span>,<span class="mxinfo " id="T8:U89">3</span>)</span>= <span class="mxinfo " id="T3:U90">(<span class="mxinfo " id="T3:U91"><span class="mxinfo " id="T3:U92"><span class="var type1" id="S3T2U153">input</span>(<span class="mxinfo " id="T6:U94">:</span>,<span class="mxinfo " id="T7:U95">:</span>,<span class="mxinfo " id="T4:U96">3</span>)</span>-<span class="var type1" id="S11T3U157">diff_im</span></span>).*<span class="var type1" id="S16T3U158">factor</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40">40</a></span><span class="line"><span class="mxinfo " id="T1:U99"><span class="var type1" id="S5T1U161">restoreOut</span>=<span class="mxinfo " id="T1:U101">uint8(<span class="mxinfo " id="T2:U102"><span class="mxinfo " id="T4:U103">255</span>.*<span class="var type1" id="S5T2U166">restoreOut</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41">41</a></span><span class="line"><span class="mxinfo " id="T1:U105"><span class="var type1" id="S5T1U169">restoreOut</span>=uint8(<span class="var type1" id="S5T1U172">restoreOut</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42">42</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43">43</a></span><span class="line"><span class="comment">%%%%%%% streching performs the histogram streching of the image %%%%%%%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44">44</a></span><span class="line"><span class="comment">%%%%%%%%% im is the input color image and p is cdf limit</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45">45</a></span><span class="line"><span class="comment">%%%%%% out is the contrast streched image and cdf is the cumulative prob</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46">46</a></span><span class="line"><span class="comment">%%%%%% density function and T is the streching function</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47">47</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48">48</a></span><span class="line"> <span class="mxinfo " id="T4:U108"><span class="var type1" id="S18T4U175">p</span>=<span class="mxinfo " id="T4:U110">5</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49">49</a></span><span class="line"> <span class="comment">% rgbtograyconversion</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50">50</a></span><span class="line"> <span class="mxinfo " id="T9:U111"><span class="var type1" id="S19T9U179">im_gray</span>=<span class="mxinfo " id="T9:U113">rgb2gray(<span class="var type1" id="S5T1U182">restoreOut</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51">51</a></span><span class="line"> <span class="mxinfo " id="T4:U115">[<span class="var type1" id="S21T4U186">row</span>,<span class="var type1" id="S22T4U187">col</span>]=size(<span class="var type1" id="S19T9U190">im_gray</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,52" id="srcline52">52</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,53" id="srcline53">53</a></span><span class="line"><span class="comment">% histogram calculation</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,54" id="srcline54">54</a></span><span class="line"><span class="mxinfo " id="T10:U119">[<span class="var type1" id="S23T10U194">count</span>,<span class="mxinfo " id="T10:U121">~</span>]=imhist(<span class="var type1" id="S19T9U198">im_gray</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,55" id="srcline55">55</a></span><span class="line"><span class="mxinfo " id="T11:U123"><span class="var type1" id="S25T11U201">prob</span>=<span class="mxinfo " id="T11:U125"><span class="mxinfo " id="T11:U126"><span class="var type1" id="S23T10U204">count</span>'</span>/(<span class="var type1" id="S21T4U207">row</span>*<span class="var type1" id="S22T4U208">col</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,56" id="srcline56">56</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,57" id="srcline57">57</a></span><span class="line"><span class="comment">% cumulative Sum calculation</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58">58</a></span><span class="line"><span class="mxinfo " id="T10:U130"><span class="var type1" id="S26T10U211">cdf</span>=<span class="mxinfo " id="T10:U132">cumsum(<span class="mxinfo " id="T10:U133"><span class="var type1" id="S25T11U215">prob</span>(:)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59">59</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60">60</a></span><span class="line"><span class="comment">% finding less than particular probability</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61">61</a></span><span class="line"><span class="mxinfo " id="T4:U135"><span class="var type1" id="S28T4U219">i1</span>=<span class="mxinfo " id="T4:U137">length(<span class="mxinfo " id="T12:U138">find(<span class="mxinfo " id="T13:U139"><span class="var type1" id="S26T10U225">cdf</span>&lt;=(<span class="mxinfo " id="T4:U141"><span class="var type1" id="S18T4U228">p</span>/<span class="mxinfo " id="T4:U143">100</span></span>)</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62">62</a></span><span class="line"><span class="mxinfo " id="T4:U144"><span class="var type1" id="S31T4U232">i2</span>=<span class="mxinfo " id="T4:U146"><span class="mxinfo " id="T4:U147">255</span>-<span class="mxinfo " id="T4:U148">length(<span class="mxinfo " id="T12:U149">find(<span class="mxinfo " id="T13:U150"><span class="var type1" id="S26T10U240">cdf</span>&gt;=<span class="mxinfo " id="T4:U152"><span class="mxinfo " id="T4:U153">1</span>-(<span class="mxinfo " id="T4:U154"><span class="var type1" id="S18T4U245">p</span>/<span class="mxinfo " id="T4:U156">100</span></span>)</span></span>)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,63" id="srcline63">63</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,64" id="srcline64">64</a></span><span class="line"><span class="mxinfo " id="T4:U157"><span class="var type1" id="S32T4U249">o1</span>=<span class="mxinfo " id="T4:U159">floor(255*.10)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,65" id="srcline65">65</a></span><span class="line"><span class="mxinfo " id="T4:U160"><span class="var type1" id="S34T4U257">o2</span>=<span class="mxinfo " id="T4:U162">floor(255*.90)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,66" id="srcline66">66</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,67" id="srcline67">67</a></span><span class="line"><span class="mxinfo " id="T14:U163"><span class="var type1" id="S35T14U265">t1</span>=<span class="mxinfo " id="T14:U165">(<span class="mxinfo " id="T4:U166"><span class="var type1" id="S32T4U269">o1</span>/<span class="var type1" id="S28T4U270">i1</span></span>)*<span class="mxinfo " id="T14:U169">[0:<span class="var type1" id="S28T4U275">i1</span>]</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,68" id="srcline68">68</a></span><span class="line"><span class="mxinfo " id="T14:U171"><span class="var type1" id="S36T14U278">t2</span>=<span class="mxinfo " id="T14:U173"><span class="mxinfo " id="T14:U174">(<span class="mxinfo " id="T14:U175">(<span class="mxinfo " id="T4:U176">(<span class="mxinfo " id="T4:U177"><span class="var type1" id="S34T4U287">o2</span>-<span class="var type1" id="S32T4U288">o1</span></span>)/(<span class="mxinfo " id="T4:U180"><span class="var type1" id="S31T4U291">i2</span>-<span class="var type1" id="S28T4U292">i1</span></span>)</span>)*<span class="mxinfo " id="T14:U183">[<span class="mxinfo " id="T4:U184"><span class="var type1" id="S28T4U297">i1</span>+<span class="mxinfo " id="T4:U186">1</span></span>:<span class="var type1" id="S31T4U299">i2</span>]</span></span>)-(<span class="mxinfo " id="T4:U188">(<span class="mxinfo " id="T4:U189">(<span class="mxinfo " id="T4:U190"><span class="var type1" id="S34T4U306">o2</span>-<span class="var type1" id="S32T4U307">o1</span></span>)/(<span class="mxinfo " id="T4:U193"><span class="var type1" id="S31T4U310">i2</span>-<span class="var type1" id="S28T4U311">i1</span></span>)</span>)*<span class="var type1" id="S28T4U312">i1</span></span>)</span>+<span class="var type1" id="S32T4U313">o1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,69" id="srcline69">69</a></span><span class="line"><span class="mxinfo " id="T14:U198"><span class="var type1" id="S37T14U316">t3</span>=<span class="mxinfo " id="T14:U200"><span class="mxinfo " id="T14:U201">(<span class="mxinfo " id="T14:U202">(<span class="mxinfo " id="T4:U203">(<span class="mxinfo " id="T4:U204">255-<span class="var type1" id="S34T4U326">o2</span></span>)/(<span class="mxinfo " id="T4:U206"><span class="mxinfo " id="T4:U207">255</span>-<span class="var type1" id="S31T4U330">i2</span></span>)</span>)*<span class="mxinfo " id="T14:U209">[<span class="mxinfo " id="T4:U210"><span class="var type1" id="S31T4U335">i2</span>+<span class="mxinfo " id="T4:U212">1</span></span>:255]</span></span>)-(<span class="mxinfo " id="T4:U213">(<span class="mxinfo " id="T4:U214">(<span class="mxinfo " id="T4:U215">255-<span class="var type1" id="S34T4U345">o2</span></span>)/(<span class="mxinfo " id="T4:U217"><span class="mxinfo " id="T4:U218">255</span>-<span class="var type1" id="S31T4U349">i2</span></span>)</span>)*<span class="var type1" id="S31T4U350">i2</span></span>)</span>+<span class="var type1" id="S34T4U351">o2</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,70" id="srcline70">70</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,71" id="srcline71">71</a></span><span class="line"><span class="mxinfo " id="T15:U222"><span class="var type1" id="S38T15U354">T</span>=(<span class="mxinfo " id="T15:U224">floor(<span class="mxinfo " id="T15:U225">[<span class="var type1" id="S35T14U360">t1</span> <span class="var type1" id="S36T14U361">t2</span> <span class="var type1" id="S37T14U362">t3</span>]</span>)</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,72" id="srcline72">72</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,73" id="srcline73">73</a></span><span class="line"><span class="mxinfo " id="T16:U229"><span class="mxinfo " id="T16:U230"><span class="var type1" id="S5T1U366">restoreOut</span>(<span class="mxinfo " id="T17:U232"><span class="var type1" id="S5T1U368">restoreOut</span> == <span class="mxinfo " id="T4:U234">0</span></span>)</span> = <span class="mxinfo " id="T4:U235">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,74" id="srcline74">74</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,75" id="srcline75">75</a></span><span class="line"><span class="mxinfo " id="T9:U236"><span class="var type1" id="S39T9U373">u1</span>=(<span class="mxinfo " id="T9:U238"><span class="var type1" id="S5T1U376">restoreOut</span>(<span class="mxinfo " id="T6:U240">:</span>,<span class="mxinfo " id="T7:U241">:</span>,<span class="mxinfo " id="T4:U242">1</span>)</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,76" id="srcline76">76</a></span><span class="line"><span class="mxinfo " id="T9:U243"><span class="var type1" id="S40T9U382">u2</span>=(<span class="mxinfo " id="T9:U245"><span class="var type1" id="S5T1U385">restoreOut</span>(<span class="mxinfo " id="T6:U247">:</span>,<span class="mxinfo " id="T7:U248">:</span>,<span class="mxinfo " id="T4:U249">2</span>)</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,77" id="srcline77">77</a></span><span class="line"><span class="mxinfo " id="T9:U250"><span class="var type1" id="S41T9U391">u3</span>=(<span class="mxinfo " id="T9:U252"><span class="var type1" id="S5T1U394">restoreOut</span>(<span class="mxinfo " id="T6:U254">:</span>,<span class="mxinfo " id="T7:U255">:</span>,<span class="mxinfo " id="T4:U256">3</span>)</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,78" id="srcline78">78</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,79" id="srcline79">79</a></span><span class="line"><span class="comment">% Replacing the value from look up table</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,80" id="srcline80">80</a></span><span class="line"><span class="mxinfo " id="T3:U257"><span class="var type1" id="S42T3U400">out1</span>=<span class="mxinfo " id="T3:U259"><span class="var type1" id="S38T15U402">T</span>(<span class="var type1" id="S39T9U403">u1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,81" id="srcline81">81</a></span><span class="line"><span class="mxinfo " id="T3:U262"><span class="var type1" id="S43T3U406">out2</span>=<span class="mxinfo " id="T3:U264"><span class="var type1" id="S38T15U408">T</span>(<span class="var type1" id="S40T9U409">u2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,82" id="srcline82">82</a></span><span class="line"><span class="mxinfo " id="T3:U267"><span class="var type1" id="S44T3U412">out3</span>=<span class="mxinfo " id="T3:U269"><span class="var type1" id="S38T15U414">T</span>(<span class="var type1" id="S41T9U415">u3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,83" id="srcline83">83</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,84" id="srcline84">84</a></span><span class="line"><span class="mxinfo " id="T1:U272"><span class="var type1" id="S2T1U418">out</span> = <span class="mxinfo " id="T1:U274">zeros([size(<span class="var type1" id="S42T3U425">out1</span>),3], <span class="string">'uint8'</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,85" id="srcline85">85</a></span><span class="line"><span class="mxinfo " id="T9:U276"><span class="mxinfo " id="T9:U277"><span class="var type1" id="S2T1U431">out</span>(<span class="mxinfo " id="T6:U279">:</span>,<span class="mxinfo " id="T7:U280">:</span>,<span class="mxinfo " id="T4:U281">1</span>)</span> = <span class="mxinfo " id="T9:U282">uint8(<span class="var type1" id="S42T3U437">out1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,86" id="srcline86">86</a></span><span class="line"><span class="mxinfo " id="T9:U284"><span class="mxinfo " id="T9:U285"><span class="var type1" id="S2T1U441">out</span>(<span class="mxinfo " id="T6:U287">:</span>,<span class="mxinfo " id="T7:U288">:</span>,<span class="mxinfo " id="T4:U289">2</span>)</span> = <span class="mxinfo " id="T9:U290">uint8(<span class="var type1" id="S43T3U447">out2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,87" id="srcline87">87</a></span><span class="line"><span class="mxinfo " id="T9:U292"><span class="mxinfo " id="T9:U293"><span class="var type1" id="S2T1U451">out</span>(<span class="mxinfo " id="T6:U295">:</span>,<span class="mxinfo " id="T7:U296">:</span>,<span class="mxinfo " id="T4:U297">3</span>)</span> = <span class="mxinfo " id="T9:U298">uint8(<span class="var type1" id="S44T3U457">out3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,88" id="srcline88">88</a></span><span class="line"><span class="keyword">return</span></span></span>
</pre>
</body>
</html>
